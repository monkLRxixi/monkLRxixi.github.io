import{_ as s,o as a,c as n,Q as e}from"./chunks/framework.gI2xCOxE.js";const b=JSON.parse('{"title":"HBase Install","description":"","frontmatter":{},"headers":[],"relativePath":"bigdata/hbase/hbase-install.md","filePath":"bigdata/hbase/hbase-install.md"}'),l={name:"bigdata/hbase/hbase-install.md"},p=e(`<h1 id="hbase-install" tabindex="-1">HBase Install <a class="header-anchor" href="#hbase-install" aria-label="Permalink to &quot;HBase Install&quot;">​</a></h1><table><thead><tr><th>Name</th><th>Version</th><th>download</th></tr></thead><tbody><tr><td>HBase</td><td>1.2.1</td><td><a href="https://archive.apache.org/dist/hbase/1.2.1/hbase-1.2.1-bin.tar.gz" target="_blank" rel="noreferrer">https://archive.apache.org/dist/hbase/1.2.1/hbase-1.2.1-bin.tar.gz</a></td></tr></tbody></table><p>其它版本可到<a href="https://archive.apache.org/dist/hbase/" target="_blank" rel="noreferrer">https://archive.apache.org/dist/hbase/</a>下载。</p><h2 id="解压hbase安装包" tabindex="-1">解压hbase安装包 <a class="header-anchor" href="#解压hbase安装包" aria-label="Permalink to &quot;解压hbase安装包&quot;">​</a></h2><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">tar</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-zxvf</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">~/hbase-1.2.1-bin.tar.gz</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-C</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/opt/</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">tar</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-zxvf</span><span style="color:#24292E;"> </span><span style="color:#032F62;">~/hbase-1.2.1-bin.tar.gz</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-C</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/opt/</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>进行软链接:</strong></p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">ln</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-s</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/opt/hbase-1.2.1</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/opt/hbase</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">ln</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-s</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/opt/hbase-1.2.1</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/opt/hbase</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="配置环境变量" tabindex="-1">配置环境变量 <a class="header-anchor" href="#配置环境变量" aria-label="Permalink to &quot;配置环境变量&quot;">​</a></h2><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">vim</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/etc/profile</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">vim</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/etc/profile</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># set hbase env</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> HBASE_HOME</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">/opt/hbase</span><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> PATH</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">$HBASE_HOME</span><span style="color:#9ECBFF;">/bin:</span><span style="color:#E1E4E8;">$PATH</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># set hbase env</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> HBASE_HOME</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">/opt/hbase</span><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> PATH</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">$HBASE_HOME</span><span style="color:#032F62;">/bin:</span><span style="color:#24292E;">$PATH</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>使其生效:</strong></p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">source</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/etc/profile</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">source</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/etc/profile</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="文件配置" tabindex="-1">文件配置 <a class="header-anchor" href="#文件配置" aria-label="Permalink to &quot;文件配置&quot;">​</a></h2><h3 id="hbase-env-sh" tabindex="-1">hbase-env.sh <a class="header-anchor" href="#hbase-env-sh" aria-label="Permalink to &quot;hbase-env.sh&quot;">​</a></h3><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">vim</span><span style="color:#E1E4E8;"> $HBASE_HOME</span><span style="color:#9ECBFF;">/conf/hbase-env.sh</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">vim</span><span style="color:#24292E;"> $HBASE_HOME</span><span style="color:#032F62;">/conf/hbase-env.sh</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>找到JAVA_HOME，注释掉，改为如下:</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># export JAVA_HOME=/usr/java/jdk1.6.0/</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> JAVA_HOME</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">/opt/jdk</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># export JAVA_HOME=/usr/java/jdk1.6.0/</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> JAVA_HOME</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">/opt/jdk</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>找到HBASE_MANAGES_ZK，注释掉，改为如下:</p><p><em>值为true使用HBase自带的ZooKeeper,值为false使用在Hadoop上装的ZooKeeper:</em></p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># export HBASE_MANAGES_ZK=true</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> HBASE_MANAGES_ZK</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">false</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># export HBASE_MANAGES_ZK=true</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> HBASE_MANAGES_ZK</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">false</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>找到HBASE_CLASSPATH，将hbase类路径改为你hadoop的配置文件目录:</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># export HBASE_CLASSPATH=</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> HBASE_CLASSPATH</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">/opt/hadoop/etc/hadoop</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># export HBASE_CLASSPATH=</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> HBASE_CLASSPATH</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">/opt/hadoop/etc/hadoop</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="修改hbase-site-xml" tabindex="-1">修改hbase-site.xml <a class="header-anchor" href="#修改hbase-site-xml" aria-label="Permalink to &quot;修改hbase-site.xml&quot;">​</a></h3><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">vim</span><span style="color:#E1E4E8;"> $HBASE_HOME</span><span style="color:#9ECBFF;">/conf/hbase-site.xml</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">vim</span><span style="color:#24292E;"> $HBASE_HOME</span><span style="color:#032F62;">/conf/hbase-site.xml</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-xml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">&lt;!-- hbase.rootdir  # 使用8020端口 --&gt;</span></span>
<span class="line"><span style="color:#6A737D;">&lt;!-- 注意：这里的端口需要和hadoop中的core-site.xml中的fs.defaultFS一致 --&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">property</span><span style="color:#E1E4E8;">&gt; </span></span>
<span class="line"><span style="color:#E1E4E8;">       &lt;</span><span style="color:#85E89D;">name</span><span style="color:#E1E4E8;">&gt;hbase.rootdir&lt;/</span><span style="color:#85E89D;">name</span><span style="color:#E1E4E8;">&gt; </span></span>
<span class="line"><span style="color:#E1E4E8;">       &lt;</span><span style="color:#85E89D;">value</span><span style="color:#E1E4E8;">&gt;hdfs://master:8020/hbase&lt;/</span><span style="color:#85E89D;">value</span><span style="color:#E1E4E8;">&gt; </span></span>
<span class="line"><span style="color:#E1E4E8;">       &lt;</span><span style="color:#85E89D;">description</span><span style="color:#E1E4E8;">&gt;The directory shared by region servers.&lt;/</span><span style="color:#85E89D;">description</span><span style="color:#E1E4E8;">&gt; </span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">property</span><span style="color:#E1E4E8;">&gt; </span></span>
<span class="line"><span style="color:#6A737D;">&lt;!-- hbase.master.info.port  # 使用master节点60010端口 --&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">property</span><span style="color:#E1E4E8;">&gt; </span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">name</span><span style="color:#E1E4E8;">&gt;hbase.master.info.port&lt;/</span><span style="color:#85E89D;">name</span><span style="color:#E1E4E8;">&gt; </span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">value</span><span style="color:#E1E4E8;">&gt;60010&lt;/</span><span style="color:#85E89D;">value</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">property</span><span style="color:#E1E4E8;">&gt; </span></span>
<span class="line"><span style="color:#6A737D;">&lt;!-- hbase.zookeeper.property.clientPort  # 使用master节点2181端口 --&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">property</span><span style="color:#E1E4E8;">&gt; </span></span>
<span class="line"><span style="color:#E1E4E8;">       &lt;</span><span style="color:#85E89D;">name</span><span style="color:#E1E4E8;">&gt;hbase.zookeeper.property.clientPort&lt;/</span><span style="color:#85E89D;">name</span><span style="color:#E1E4E8;">&gt; </span></span>
<span class="line"><span style="color:#E1E4E8;">       &lt;</span><span style="color:#85E89D;">value</span><span style="color:#E1E4E8;">&gt;2181&lt;/</span><span style="color:#85E89D;">value</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">       &lt;</span><span style="color:#85E89D;">description</span><span style="color:#E1E4E8;">&gt;Property from ZooKeeper&#39;s config zoo.cfg. The port at which the clients will connect. </span></span>
<span class="line"><span style="color:#E1E4E8;">       &lt;/</span><span style="color:#85E89D;">description</span><span style="color:#E1E4E8;">&gt; </span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">property</span><span style="color:#E1E4E8;">&gt; </span></span>
<span class="line"><span style="color:#6A737D;">&lt;!-- zookeeper.session.timeout zookeeper超时时间 --&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">property</span><span style="color:#E1E4E8;">&gt; </span></span>
<span class="line"><span style="color:#E1E4E8;">       &lt;</span><span style="color:#85E89D;">name</span><span style="color:#E1E4E8;">&gt;zookeeper.session.timeout&lt;/</span><span style="color:#85E89D;">name</span><span style="color:#E1E4E8;">&gt; </span></span>
<span class="line"><span style="color:#E1E4E8;">       &lt;</span><span style="color:#85E89D;">value</span><span style="color:#E1E4E8;">&gt;120000&lt;/</span><span style="color:#85E89D;">value</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">property</span><span style="color:#E1E4E8;">&gt; </span></span>
<span class="line"><span style="color:#6A737D;">&lt;!-- hbase.zookeeper.quorum  # ZooKeeper管理节点 --&gt;</span></span>
<span class="line"><span style="color:#6A737D;">&lt;!-- 这里根据你zookeeper管理节点修改 --&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">property</span><span style="color:#E1E4E8;">&gt; </span></span>
<span class="line"><span style="color:#E1E4E8;">       &lt;</span><span style="color:#85E89D;">name</span><span style="color:#E1E4E8;">&gt;hbase.zookeeper.quorum&lt;/</span><span style="color:#85E89D;">name</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">       </span><span style="color:#6A737D;">&lt;!-- &lt;value&gt;master,slave1,slave2&lt;/value&gt; --&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">       &lt;</span><span style="color:#85E89D;">value</span><span style="color:#E1E4E8;">&gt;master&lt;/</span><span style="color:#85E89D;">value</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">property</span><span style="color:#E1E4E8;">&gt; </span></span>
<span class="line"><span style="color:#6A737D;">&lt;!-- hbase.tmp.dir  # HBase临时文件路径 --&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">property</span><span style="color:#E1E4E8;">&gt; </span></span>
<span class="line"><span style="color:#E1E4E8;">       &lt;</span><span style="color:#85E89D;">name</span><span style="color:#E1E4E8;">&gt;hbase.tmp.dir&lt;/</span><span style="color:#85E89D;">name</span><span style="color:#E1E4E8;">&gt; </span></span>
<span class="line"><span style="color:#E1E4E8;">       &lt;</span><span style="color:#85E89D;">value</span><span style="color:#E1E4E8;">&gt;/opt/hbase/tmp&lt;/</span><span style="color:#85E89D;">value</span><span style="color:#E1E4E8;">&gt;  </span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">property</span><span style="color:#E1E4E8;">&gt; </span></span>
<span class="line"><span style="color:#6A737D;">&lt;!-- hbase.cluster.distributed  # 使用分布式HBase --&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">property</span><span style="color:#E1E4E8;">&gt; </span></span>
<span class="line"><span style="color:#E1E4E8;">       &lt;</span><span style="color:#85E89D;">name</span><span style="color:#E1E4E8;">&gt;hbase.cluster.distributed&lt;/</span><span style="color:#85E89D;">name</span><span style="color:#E1E4E8;">&gt; </span></span>
<span class="line"><span style="color:#E1E4E8;">       &lt;</span><span style="color:#85E89D;">value</span><span style="color:#E1E4E8;">&gt;true&lt;/</span><span style="color:#85E89D;">value</span><span style="color:#E1E4E8;">&gt;  </span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">property</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">&lt;!-- hbase.rootdir  # 使用8020端口 --&gt;</span></span>
<span class="line"><span style="color:#6A737D;">&lt;!-- 注意：这里的端口需要和hadoop中的core-site.xml中的fs.defaultFS一致 --&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">property</span><span style="color:#24292E;">&gt; </span></span>
<span class="line"><span style="color:#24292E;">       &lt;</span><span style="color:#22863A;">name</span><span style="color:#24292E;">&gt;hbase.rootdir&lt;/</span><span style="color:#22863A;">name</span><span style="color:#24292E;">&gt; </span></span>
<span class="line"><span style="color:#24292E;">       &lt;</span><span style="color:#22863A;">value</span><span style="color:#24292E;">&gt;hdfs://master:8020/hbase&lt;/</span><span style="color:#22863A;">value</span><span style="color:#24292E;">&gt; </span></span>
<span class="line"><span style="color:#24292E;">       &lt;</span><span style="color:#22863A;">description</span><span style="color:#24292E;">&gt;The directory shared by region servers.&lt;/</span><span style="color:#22863A;">description</span><span style="color:#24292E;">&gt; </span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">property</span><span style="color:#24292E;">&gt; </span></span>
<span class="line"><span style="color:#6A737D;">&lt;!-- hbase.master.info.port  # 使用master节点60010端口 --&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">property</span><span style="color:#24292E;">&gt; </span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">name</span><span style="color:#24292E;">&gt;hbase.master.info.port&lt;/</span><span style="color:#22863A;">name</span><span style="color:#24292E;">&gt; </span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">value</span><span style="color:#24292E;">&gt;60010&lt;/</span><span style="color:#22863A;">value</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">property</span><span style="color:#24292E;">&gt; </span></span>
<span class="line"><span style="color:#6A737D;">&lt;!-- hbase.zookeeper.property.clientPort  # 使用master节点2181端口 --&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">property</span><span style="color:#24292E;">&gt; </span></span>
<span class="line"><span style="color:#24292E;">       &lt;</span><span style="color:#22863A;">name</span><span style="color:#24292E;">&gt;hbase.zookeeper.property.clientPort&lt;/</span><span style="color:#22863A;">name</span><span style="color:#24292E;">&gt; </span></span>
<span class="line"><span style="color:#24292E;">       &lt;</span><span style="color:#22863A;">value</span><span style="color:#24292E;">&gt;2181&lt;/</span><span style="color:#22863A;">value</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">       &lt;</span><span style="color:#22863A;">description</span><span style="color:#24292E;">&gt;Property from ZooKeeper&#39;s config zoo.cfg. The port at which the clients will connect. </span></span>
<span class="line"><span style="color:#24292E;">       &lt;/</span><span style="color:#22863A;">description</span><span style="color:#24292E;">&gt; </span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">property</span><span style="color:#24292E;">&gt; </span></span>
<span class="line"><span style="color:#6A737D;">&lt;!-- zookeeper.session.timeout zookeeper超时时间 --&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">property</span><span style="color:#24292E;">&gt; </span></span>
<span class="line"><span style="color:#24292E;">       &lt;</span><span style="color:#22863A;">name</span><span style="color:#24292E;">&gt;zookeeper.session.timeout&lt;/</span><span style="color:#22863A;">name</span><span style="color:#24292E;">&gt; </span></span>
<span class="line"><span style="color:#24292E;">       &lt;</span><span style="color:#22863A;">value</span><span style="color:#24292E;">&gt;120000&lt;/</span><span style="color:#22863A;">value</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">property</span><span style="color:#24292E;">&gt; </span></span>
<span class="line"><span style="color:#6A737D;">&lt;!-- hbase.zookeeper.quorum  # ZooKeeper管理节点 --&gt;</span></span>
<span class="line"><span style="color:#6A737D;">&lt;!-- 这里根据你zookeeper管理节点修改 --&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">property</span><span style="color:#24292E;">&gt; </span></span>
<span class="line"><span style="color:#24292E;">       &lt;</span><span style="color:#22863A;">name</span><span style="color:#24292E;">&gt;hbase.zookeeper.quorum&lt;/</span><span style="color:#22863A;">name</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">       </span><span style="color:#6A737D;">&lt;!-- &lt;value&gt;master,slave1,slave2&lt;/value&gt; --&gt;</span></span>
<span class="line"><span style="color:#24292E;">       &lt;</span><span style="color:#22863A;">value</span><span style="color:#24292E;">&gt;master&lt;/</span><span style="color:#22863A;">value</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">property</span><span style="color:#24292E;">&gt; </span></span>
<span class="line"><span style="color:#6A737D;">&lt;!-- hbase.tmp.dir  # HBase临时文件路径 --&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">property</span><span style="color:#24292E;">&gt; </span></span>
<span class="line"><span style="color:#24292E;">       &lt;</span><span style="color:#22863A;">name</span><span style="color:#24292E;">&gt;hbase.tmp.dir&lt;/</span><span style="color:#22863A;">name</span><span style="color:#24292E;">&gt; </span></span>
<span class="line"><span style="color:#24292E;">       &lt;</span><span style="color:#22863A;">value</span><span style="color:#24292E;">&gt;/opt/hbase/tmp&lt;/</span><span style="color:#22863A;">value</span><span style="color:#24292E;">&gt;  </span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">property</span><span style="color:#24292E;">&gt; </span></span>
<span class="line"><span style="color:#6A737D;">&lt;!-- hbase.cluster.distributed  # 使用分布式HBase --&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">property</span><span style="color:#24292E;">&gt; </span></span>
<span class="line"><span style="color:#24292E;">       &lt;</span><span style="color:#22863A;">name</span><span style="color:#24292E;">&gt;hbase.cluster.distributed&lt;/</span><span style="color:#22863A;">name</span><span style="color:#24292E;">&gt; </span></span>
<span class="line"><span style="color:#24292E;">       &lt;</span><span style="color:#22863A;">value</span><span style="color:#24292E;">&gt;true&lt;/</span><span style="color:#22863A;">value</span><span style="color:#24292E;">&gt;  </span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">property</span><span style="color:#24292E;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><p>hbase.rootdir：该项配置了数据写入的目录，默认hbase.rootdir是指向/tmp/hbase\${user.name}，也就说你会在重启后丢失数据(重启的时候操作系统会清理/tmp目录)。</p><p>hbase.zookeeper.property.clientPort：指定zk的连接端口 zookeeper.session.timeout：RegionServer与ZooKeeper间的连接超时时间。</p><p>当超时时间到后，ReigonServer会被ZooKeeper从RS集群清单中移除，HMaster收到移除通知后，会对这台server负责的regions重新balance，让其他存活的RegionServer接管.</p><p>hbase.zookeeper.quorum：默认值是localhost，列出zookeepr ensemble中的servers hbase.master.info.port：浏览器的访问端口</p><h3 id="修改regionservers文件" tabindex="-1">修改regionservers文件 <a class="header-anchor" href="#修改regionservers文件" aria-label="Permalink to &quot;修改regionservers文件&quot;">​</a></h3><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">vim</span><span style="color:#E1E4E8;"> $HBASE_HOME</span><span style="color:#9ECBFF;">/conf/regionservers</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">vim</span><span style="color:#24292E;"> $HBASE_HOME</span><span style="color:#032F62;">/conf/regionservers</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>删除localhost，每一行写一个slave节点主机机器名</p><div class="language-row vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">row</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">master</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">master</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="创建hbase-tmp-dir目录" tabindex="-1">创建hbase.tmp.dir目录 <a class="header-anchor" href="#创建hbase-tmp-dir目录" aria-label="Permalink to &quot;创建hbase.tmp.dir目录&quot;">​</a></h3><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">mkdir</span><span style="color:#E1E4E8;"> $HBASE_HOME</span><span style="color:#9ECBFF;">/tmp</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">mkdir</span><span style="color:#24292E;"> $HBASE_HOME</span><span style="color:#032F62;">/tmp</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="同步安装文件到从节点" tabindex="-1">同步安装文件到从节点 <a class="header-anchor" href="#同步安装文件到从节点" aria-label="Permalink to &quot;同步安装文件到从节点&quot;">​</a></h2><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">scp</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-r</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/opt/hbase</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">slave1:/opt/</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">scp</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-r</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/opt/hbase</span><span style="color:#24292E;"> </span><span style="color:#032F62;">slave1:/opt/</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">scp</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-r</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/opt/hbase</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">slave2:/opt/</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">scp</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-r</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/opt/hbase</span><span style="color:#24292E;"> </span><span style="color:#032F62;">slave2:/opt/</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="修改hbase权限并切换hadoop用户-可选" tabindex="-1">修改hbase权限并切换hadoop用户(可选) <a class="header-anchor" href="#修改hbase权限并切换hadoop用户-可选" aria-label="Permalink to &quot;修改hbase权限并切换hadoop用户(可选)&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>从节点的以此类推</p></div><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">chown</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-R</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">hadoop:hadoop</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/opt/hbase/</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">chown</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-R</span><span style="color:#24292E;"> </span><span style="color:#032F62;">hadoop:hadoop</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/opt/hbase/</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">su</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">-</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">hadoop</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">su</span><span style="color:#24292E;"> </span><span style="color:#032F62;">-</span><span style="color:#24292E;"> </span><span style="color:#032F62;">hadoop</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="启动hbase" tabindex="-1">启动HBase <a class="header-anchor" href="#启动hbase" aria-label="Permalink to &quot;启动HBase&quot;">​</a></h2><p>先启动Hadoop，然后启动ZooKeeper，最后启动HBase</p><p>需要确保Hadoop和ZooKeeper已经启动</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">start-all.sh</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">start-all.sh</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">zkServer.sh</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">start</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">zkServer.sh</span><span style="color:#24292E;"> </span><span style="color:#032F62;">start</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>启动HBase:</strong></p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">start-hbase.sh</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">start-hbase.sh</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-row vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">row</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">[root@master conf]# start-hbase.sh</span></span>
<span class="line"><span style="color:#e1e4e8;">starting master, logging to /opt/hbase/logs/hbase-root-master-master.centos.com.out</span></span>
<span class="line"><span style="color:#e1e4e8;">OpenJDK 64-Bit Server VM warning: ignoring option PermSize=128m; support was removed in 8.0</span></span>
<span class="line"><span style="color:#e1e4e8;">OpenJDK 64-Bit Server VM warning: ignoring option MaxPermSize=128m; support was removed in 8.0</span></span>
<span class="line"><span style="color:#e1e4e8;">SLF4J: Class path contains multiple SLF4J bindings.</span></span>
<span class="line"><span style="color:#e1e4e8;">SLF4J: Found binding in [jar:file:/opt/hbase-1.2.1/lib/slf4j-log4j12-1.7.5.jar!/org/slf4j/impl/StaticLoggerBinder.class]</span></span>
<span class="line"><span style="color:#e1e4e8;">SLF4J: Found binding in [jar:file:/opt/hadoop-2.7.7/share/hadoop/common/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]</span></span>
<span class="line"><span style="color:#e1e4e8;">SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.</span></span>
<span class="line"><span style="color:#e1e4e8;">SLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]</span></span>
<span class="line"><span style="color:#e1e4e8;">master: starting regionserver, logging to /opt/hbase/bin/../logs/hbase-root-regionserver-master.centos.com.out</span></span>
<span class="line"><span style="color:#e1e4e8;">master: OpenJDK 64-Bit Server VM warning: ignoring option PermSize=128m; support was removed in 8.0</span></span>
<span class="line"><span style="color:#e1e4e8;">master: OpenJDK 64-Bit Server VM warning: ignoring option MaxPermSize=128m; support was removed in 8.0</span></span>
<span class="line"><span style="color:#e1e4e8;">[root@master conf]#</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">[root@master conf]# start-hbase.sh</span></span>
<span class="line"><span style="color:#24292e;">starting master, logging to /opt/hbase/logs/hbase-root-master-master.centos.com.out</span></span>
<span class="line"><span style="color:#24292e;">OpenJDK 64-Bit Server VM warning: ignoring option PermSize=128m; support was removed in 8.0</span></span>
<span class="line"><span style="color:#24292e;">OpenJDK 64-Bit Server VM warning: ignoring option MaxPermSize=128m; support was removed in 8.0</span></span>
<span class="line"><span style="color:#24292e;">SLF4J: Class path contains multiple SLF4J bindings.</span></span>
<span class="line"><span style="color:#24292e;">SLF4J: Found binding in [jar:file:/opt/hbase-1.2.1/lib/slf4j-log4j12-1.7.5.jar!/org/slf4j/impl/StaticLoggerBinder.class]</span></span>
<span class="line"><span style="color:#24292e;">SLF4J: Found binding in [jar:file:/opt/hadoop-2.7.7/share/hadoop/common/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]</span></span>
<span class="line"><span style="color:#24292e;">SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.</span></span>
<span class="line"><span style="color:#24292e;">SLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]</span></span>
<span class="line"><span style="color:#24292e;">master: starting regionserver, logging to /opt/hbase/bin/../logs/hbase-root-regionserver-master.centos.com.out</span></span>
<span class="line"><span style="color:#24292e;">master: OpenJDK 64-Bit Server VM warning: ignoring option PermSize=128m; support was removed in 8.0</span></span>
<span class="line"><span style="color:#24292e;">master: OpenJDK 64-Bit Server VM warning: ignoring option MaxPermSize=128m; support was removed in 8.0</span></span>
<span class="line"><span style="color:#24292e;">[root@master conf]#</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="访问浏览器地址" tabindex="-1">访问浏览器地址 <a class="header-anchor" href="#访问浏览器地址" aria-label="Permalink to &quot;访问浏览器地址&quot;">​</a></h2><p>访问浏览器地址: <a href="http://master:60010" target="_blank" rel="noreferrer">http://master:60010</a></p>`,52),o=[p];function t(r,c,i,y,E,d){return a(),n("div",null,o)}const g=s(l,[["render",t]]);export{b as __pageData,g as default};
